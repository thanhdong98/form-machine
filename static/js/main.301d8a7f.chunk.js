(this["webpackJsonpform-machine"]=this["webpackJsonpform-machine"]||[]).push([[0],{51:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t),c.d(t,"FormBuilder",(function(){return $})),c.d(t,"FormGenerator",(function(){return T})),c.d(t,"parseTemplate",(function(){return ee}));c(42);var n,a,l=c(1),r=c.n(l),i=c(11),o=c.n(i),d=c(6),s=c(57),j=c(35),b=c(63),u=Object(l.createContext)({schema:[],setSchema:function(e){},onSave:function(){}}),h=c(61),x=c(65),O=c(3);!function(e){e.Input="Input",e.Checkbox="Checkbox",e.Radio="Radio",e.Select="Select",e.TextArea="TextArea",e.Section="Section"}(n||(n={})),function(e){e.number="number",e.text="text",e.password="password",e.time="time",e.date="date",e.datetime="datetime-local"}(a||(a={}));var m,f=c(7),v=c(0),p=function(e){var t=e.id,c=void 0===t?"":t,n=e.defaultValue,a=e.disabled,r=void 0!==a&&a,i=e.values,o=void 0===i?[]:i,s=Object(l.useState)(n),j=Object(d.a)(s,2),b=j[0],u=j[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(h.a.Control,{type:"hidden",name:c,value:b}),o.map((function(e,t){return Object(v.jsx)(h.a.Check,{id:"checkbox-".concat(c,"-").concat(e),type:"checkbox",value:e,inline:!0,disabled:r,defaultChecked:n.includes(e),label:e,onChange:function(t){return function(e,t){u(e?[].concat(Object(f.a)(b),[t]):b.filter((function(e){return e!==t})))}(t.target.checked,e)}},"".concat(c,"-").concat(e,"-").concat(t))}))]})},g=["label"],y=function e(t){var c=t.formControlItem,a=c.label,r=void 0===a?"":a,i=Object(O.a)(c,g),o=Object(l.useMemo)((function(){var t=i.controlType,c=i.defaultValue,a=i.placeholder,l=i.type,o=i.disabled,d=i.values,u=void 0===d?[]:d,x=i.id,O=i.children,m=void 0===O?[]:O,f=i.columns,g=void 0===f?1:f,y=i.bordered,w=void 0!==y&&y;switch(t){case n.Checkbox:return Object(v.jsx)(p,{id:x,defaultValue:c||[],disabled:o,values:u});case n.Radio:return Object(v.jsx)(v.Fragment,{children:u.map((function(e,t){return Object(v.jsx)(h.a.Check,{id:"radio-".concat(x,"-").concat(e),defaultChecked:e===c,type:"radio",value:e,inline:!0,name:x,label:e,disabled:o},"".concat(x,"-").concat(e,"-").concat(t))}))});case n.TextArea:return Object(v.jsx)(h.a.Control,{as:"textarea",rows:4,placeholder:a,defaultValue:(c||"").toString(),name:x,disabled:o});case n.Select:return Object(v.jsx)(h.a.Select,{defaultValue:(c||"").toString(),name:x,disabled:o,children:u.map((function(e,t){return Object(v.jsx)("option",{value:e,children:e},"".concat(x,"-").concat(e,"-").concat(t))}))});case n.Input:return Object(v.jsx)(h.a.Control,{disabled:o,type:null===l||void 0===l?void 0:l.toString(),defaultValue:(c||"").toString(),placeholder:a,name:x});default:return w?Object(v.jsxs)(b.a,{className:"mb-3",children:[r&&Object(v.jsx)(b.a.Header,{children:r}),Object(v.jsx)(b.a.Body,{children:Object(v.jsx)(s.a,{children:m.map((function(t){return Object(v.jsx)(j.a,{xs:12/g,children:Object(v.jsx)(e,{formControlItem:t})},"".concat(x,"-").concat(t.id))}))})})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.a,{children:Object(v.jsx)(j.a,{children:Object(v.jsx)("h2",{children:r})})}),Object(v.jsx)(s.a,{children:m.map((function(t){return Object(v.jsx)(j.a,{xs:12/g,children:Object(v.jsx)(e,{formControlItem:t})},"".concat(x,"-").concat(t.id))}))})]})}}),[i,r]);return c.controlType===n.Section?o:Object(v.jsxs)(h.a.Group,{as:j.a,className:"mb-4",children:[r&&Object(v.jsx)(h.a.Label,{children:c.label}),Object(v.jsxs)("div",{children:[" ",o," "]})]})},w=c(21),C=function e(t,c){var n,a,l=Object(w.a)(c);try{for(l.s();!(a=l.n()).done;){var r,i=a.value;if(i.id===t){n=i.label;break}if((null===(r=i.children)||void 0===r?void 0:r.length)&&(n=e(t,i.children)))break}}catch(o){l.e(o)}finally{l.f()}return n||""},T=function(e){var t=e.schema,c=void 0===t?[]:t,n=e.onSubmit,a=e.className,r=void 0===a?"":a,i=Object(l.useCallback)((function(e){e.preventDefault();var t=new FormData(e.target),a=function(e,t){return Object.entries(e).map((function(e){return{question:C(e[0],t),answer:e[1]}}))}(Object.fromEntries(t.entries()),c);n&&n(a)}),[n,c]);return c.length?Object(v.jsxs)(h.a,{onSubmit:i,className:"".concat(r," text-left"),children:[c.map((function(e){return Object(v.jsx)(y,{formControlItem:e},"parser-".concat(e.id))})),Object(v.jsx)(x.a,{variant:"success",type:"submit",children:"Submit"})]}):Object(v.jsx)("h3",{className:"text-center",children:"This form is empty"})},S=c(2),I=c(62),k=c(64),N=function(e){var t=e.onAdd,c=e.children,a=Object(l.useState)(!1),r=Object(d.a)(a,2),i=r[0],o=r[1];return Object(v.jsxs)(x.a,{as:"div",variant:"success",className:"w-100 position-relative",onClick:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[i&&Object(v.jsx)("div",{className:"position-absolute d-flex flex-wrap justify-content-start overflow-hidden bg-white",style:{zIndex:2,top:"calc(100% + 1px)",right:0,width:"auto",transition:"height 0.25s ease-in-out",height:100},children:Object.values(n).map((function(e){return Object(v.jsx)(x.a,{onClick:function(){return t(e)},className:"h-50 w-25",variant:"outline-primary",children:e},"action-".concat(e))}))}),c]})},F=c(60),V=c(58),z=function(e){var t=e.children,c=e.placement,n=void 0===c?"top":c,a=e.text;return Object(v.jsx)(F.a,{placement:n,delay:{show:500,hide:500},overlay:Object(v.jsx)(V.a,{children:a}),children:t})},B={Checkbox:{controlType:n.Checkbox,defaultValue:[],values:[],disabled:!1,label:""},Radio:{controlType:n.Radio,values:[],disabled:!1,label:""},Input:{controlType:n.Input,defaultValue:"",disabled:!1,label:"",placeholder:""},TextArea:{controlType:n.TextArea,value:"",values:[],disabled:!1,label:""},Select:{controlType:n.Select,values:[],disabled:!1,label:""},Section:{controlType:n.Section,children:[],label:"",bordered:!1}},A=function(e){var t=e.width,c=e.height;return Object(v.jsxs)("svg",{width:t,height:c,x:"0px",y:"0px",viewBox:"0 0 123.97 123.97",enableBackground:"new 0 0 123.97 123.97",children:[Object(v.jsx)("g",{children:Object(v.jsx)("path",{d:"M51.802,96.062c2.801,2.801,6.5,4.2,10.2,4.2s7.4-1.399,10.2-4.2l47.3-47.3c5.5-5.5,6.101-14.6,0.8-20.3c-5.6-6.1-15.1-6.3-20.899-0.5l-30.4,30.3c-3.899,3.9-10.2,3.9-14.1,0l-30.3-30.3c-5.801-5.8-15.301-5.7-20.9,0.5c-5.3,5.7-4.8,14.8,0.8,20.3L51.802,96.062z"})}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{})]})},M=function(e){var t=e.width,c=e.height,n=e.fill,a=void 0===n?"white":n;return Object(v.jsx)("svg",{height:c,viewBox:"0 0 448 448",width:t,fill:a,children:Object(v.jsx)("path",{d:"m408 184h-136c-4.417969 0-8-3.582031-8-8v-136c0-22.089844-17.910156-40-40-40s-40 17.910156-40 40v136c0 4.417969-3.582031 8-8 8h-136c-22.089844 0-40 17.910156-40 40s17.910156 40 40 40h136c4.417969 0 8 3.582031 8 8v136c0 22.089844 17.910156 40 40 40s40-17.910156 40-40v-136c0-4.417969 3.582031-8 8-8h136c22.089844 0 40-17.910156 40-40s-17.910156-40-40-40zm0 0"})})},D=function(e){var t=e.width,c=e.height;return Object(v.jsxs)("svg",{width:t,height:c,x:"0px",y:"0px",viewBox:"0 0 123.969 123.97",enableBackground:"new 0 0 123.969 123.97",children:[Object(v.jsx)("g",{children:Object(v.jsx)("path",{d:"M120.266,95.584c5.301-5.801,4.801-14.801-0.8-20.301l-47.3-47.4c-2.8-2.8-6.5-4.2-10.2-4.2s-7.399,1.4-10.2,4.2l-47.299,47.3c-5.5,5.5-6.1,14.6-0.8,20.3c5.6,6.101,15.099,6.3,20.9,0.5l30.3-30.3c3.899-3.9,10.2-3.9,14.1,0l30.3,30.3C105.167,101.883,114.667,101.684,120.266,95.584z"})}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{})]})},E=function(e){var t=e.width,c=e.height,n=e.fill,a=void 0===n?"white":n;return Object(v.jsx)("svg",{enableBackground:"new 0 0 512 512",height:c,viewBox:"0 0 512 512",width:t,fill:a,children:Object(v.jsxs)("g",{children:[Object(v.jsx)("path",{d:"m424 64h-88v-16c0-26.51-21.49-48-48-48h-64c-26.51 0-48 21.49-48 48v16h-88c-22.091 0-40 17.909-40 40v32c0 8.837 7.163 16 16 16h384c8.837 0 16-7.163 16-16v-32c0-22.091-17.909-40-40-40zm-216-16c0-8.82 7.18-16 16-16h64c8.82 0 16 7.18 16 16v16h-96z"}),Object(v.jsx)("path",{d:"m78.364 184c-2.855 0-5.13 2.386-4.994 5.238l13.2 277.042c1.22 25.64 22.28 45.72 47.94 45.72h242.98c25.66 0 46.72-20.08 47.94-45.72l13.2-277.042c.136-2.852-2.139-5.238-4.994-5.238zm241.636 40c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16zm-80 0c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16zm-80 0c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16z"})]})})},R=function(e){var t=e.width,c=e.height,n=e.fill,a=void 0===n?"white":n;return Object(v.jsxs)("svg",{height:c,width:t,fill:a,enableBackground:"new 0 0 24 24",viewBox:"0 0 24 24",children:[Object(v.jsx)("path",{d:"m12 16c-.205 0-.401-.084-.542-.232l-5.25-5.5c-.455-.476-.117-1.268.542-1.268h2.75v-5.75c0-.689.561-1.25 1.25-1.25h2.5c.689 0 1.25.561 1.25 1.25v5.75h2.75c.659 0 .997.792.542 1.268l-5.25 5.5c-.141.148-.337.232-.542.232z"}),Object(v.jsx)("path",{d:"m22.25 22h-20.5c-.965 0-1.75-.785-1.75-1.75v-.5c0-.965.785-1.75 1.75-1.75h20.5c.965 0 1.75.785 1.75 1.75v.5c0 .965-.785 1.75-1.75 1.75z"})]})},L=function(e){var t=e.width,c=e.height;return Object(v.jsxs)("svg",{x:"0px",y:"0px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",width:t,height:c,children:[Object(v.jsxs)("g",{children:[Object(v.jsx)("path",{d:"M493.254,77.255l-58.508-58.51C422.742,6.742,406.465,0,389.49,0H352v112c0,8.836-7.164,16-16,16H80c-8.836,0-16-7.164-16-16V0H32C14.328,0,0,14.326,0,32v448c0,17.673,14.328,32,32,32h448c17.672,0,32-14.327,32-32V122.51C512,105.535,505.258,89.257,493.254,77.255z M448,448H64V256h384V448z"}),Object(v.jsx)("rect",{x:"224",width:"64",height:"96"})]}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{}),Object(v.jsx)("g",{})]})},H=c(40),G=c.n(H),P=function(e){return e<720?"sm":e<1024?"md":"lg"},J=function(){var e=Object(l.useState)((function(){return P(window.innerWidth)})),t=Object(d.a)(e,2),c=t[0],n=t[1];return Object(l.useEffect)((function(){var e=G()((function(){n(P(window.innerWidth))}),200);return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),c},U=function(e){var t=e.show,c=void 0!==t&&t,a=e.onAdd,r=e.onDelete,i=e.onMove,o=Object(l.useState)(!1),b=Object(d.a)(o,2),u=b[0],h=b[1],O=J();Object(l.useEffect)((function(){c||h(!1)}),[c]);var m={sm:6,md:3,lg:2};return Object(v.jsx)("div",{className:"position-absolute d-flex flex-wrap justify-content-start overflow-hidden bg-white",style:{zIndex:2,bottom:"calc(100% + 1px)",right:0,width:"auto",transition:"height 0.25s ease-in-out",height:c?u?40*m[O]:50:0},children:u?Object(v.jsx)(s.a,{className:"m-0",children:Object.values(n).map((function(e){return Object(v.jsx)(j.a,{className:"p-0",md:6,lg:4,style:{height:"".concat(100/m[O])},children:Object(v.jsx)(x.a,{onClick:function(){return a(e)},className:"w-100 h-100",variant:"outline-primary",children:e})},"action-".concat(e))}))}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(z,{text:"Add item",children:Object(v.jsx)(x.a,{variant:"success",className:"h-100",onClick:function(){return h(!0)},children:Object(v.jsx)(M,{height:25})})}),Object(v.jsx)(z,{text:"Move up",children:Object(v.jsx)(x.a,{variant:"outline-info",className:"h-100",onClick:function(){return i(!0)},children:Object(v.jsx)(D,{height:25})})}),Object(v.jsx)(z,{text:"Move down",children:Object(v.jsx)(x.a,{variant:"outline-info",className:"h-100",onClick:function(){return i()},children:Object(v.jsx)(A,{height:25})})}),Object(v.jsx)(z,{text:"Delete item",children:Object(v.jsx)(x.a,{variant:"danger",className:"h-100",onClick:r,children:Object(v.jsx)(E,{height:25})})})]})})},q=c(8);!function(e){e.controlType="controlType",e.label="label",e.value="value",e.placeholder="placeholder",e.defaultValue="defaultValue",e.values="values",e.disabled="disabled",e.type="type",e.columns="columns",e.children="children",e.bordered="bordered"}(m||(m={}));var W={Input:[m.controlType,m.type,m.label,m.placeholder,m.defaultValue,m.disabled],Checkbox:[m.controlType,m.label,m.defaultValue,m.values,m.disabled],Radio:[m.controlType,m.label,m.defaultValue,m.values,m.disabled],Select:[m.controlType,m.label,m.defaultValue,m.values,m.disabled],TextArea:[m.controlType,m.label,m.defaultValue,m.disabled],Section:[m.label,m.columns,m.bordered,m.children]},K=function(e){var t,c,n=e.formControlItem,a=e.editFormItem,l=n.children,r=void 0===l?[]:l,i=function(e,t){var c=Object(S.a)(Object(S.a)({},B[e]),{},{id:Object(k.a)()});if(t){var l=r.findIndex((function(e){return e.id===t}));r.splice(l+1,0,c),a(Object(S.a)(Object(S.a)({},n),{},{children:Object(f.a)(r)}))}else a(Object(S.a)(Object(S.a)({},n),{},{children:[].concat(Object(f.a)(r),[c])}))},o=function(e){return a(Object(S.a)(Object(S.a)({},n),{},{children:r.filter((function(t){return t.id!==e}))}))},d=function(e){if(e){var t=r.findIndex((function(t){return t.id===e.id}));r[t]=e,a(Object(S.a)(Object(S.a)({},n),{},{children:Object(f.a)(r)}))}},s=function(e,t){var c=r.findIndex((function(t){return t.id===e})),l=t?c-1:c+1,i=r[l];i&&(r[l]=r[c],r[c]=i,a(Object(S.a)(Object(S.a)({},n),{},{children:Object(f.a)(r)})))};return(null===(t=n.children)||void 0===t?void 0:t.length)?Object(v.jsx)(I.a,{flush:!1,children:null===(c=n.children)||void 0===c?void 0:c.map((function(e){return Object(v.jsx)(Y,{addFormItem:i,deleteFormItem:o,editFormItem:d,formItem:e,onMove:s},"toolbox-".concat(e.id))}))}):Object(v.jsx)(N,{onAdd:i,children:" Add Child "})},Q=function(e){var t=e.values,c=void 0===t?[]:t,n=e.onChange,a=function(e,t){c[t]=e.target.value,n(Object(f.a)(c))};return Object(v.jsxs)(v.Fragment,{children:[c.map((function(e,t){return Object(v.jsxs)(s.a,{className:"mb-2",children:[Object(v.jsx)(j.a,{md:9,children:Object(v.jsx)(h.a.Control,{type:"text",value:e,onChange:function(e){return a(e,t)},name:"defaultValue"})}),Object(v.jsx)(j.a,{md:3,children:Object(v.jsx)(x.a,{className:"w-100 h-100",variant:"danger",onClick:function(){return function(e){c.splice(e,1),n(Object(f.a)(c))}(t)},size:"sm",children:Object(v.jsx)(E,{height:20})})})]},"val-".concat(t))})),Object(v.jsx)(s.a,{children:Object(v.jsx)(j.a,{md:6,onClick:function(){n([].concat(Object(f.a)(c),[""]))},children:Object(v.jsx)(x.a,{variant:"success",className:"w-100",size:"lg",children:"Add Field"})})})]})},X=function(e){var t=e.formControlItem,c=e.editFormItem,r=Object(l.useCallback)((function(e){c(Object(S.a)(Object(S.a)({},t),{},Object(q.a)({},e.target.name,["disabled","bordered"].includes(e.target.name)?e.target.checked:e.target.value)))}),[t,c]),i={disabled:"Disable",controlType:"Element Type",label:"Title",placeholder:"Placholder",defaultValue:"Default Value(s)",values:"Values",value:"Value",type:"Type",columns:"Columns",children:"Control Items",bordered:"Contain Border"},o=Object(l.useMemo)((function(){return{disabled:Object(v.jsx)(h.a.Check,{label:"Disabled",defaultChecked:t.disabled,name:"disabled",id:"disabledField-".concat(t.id),onChange:r}),controlType:Object(v.jsx)(h.a.Select,{defaultValue:t.controlType,onChange:r,name:"controlType",children:Object.values(n).map((function(e){return Object(v.jsx)("option",{value:e,children:e.toString()},"controlType-".concat(t.id,"-").concat(e))}))}),label:Object(v.jsx)(h.a.Control,{type:"text",placeholder:"Title",value:t.label,onChange:r,name:"label"}),placeholder:Object(v.jsx)(h.a.Control,{type:"text",placeholder:"placeholder",value:t.placeholder,onChange:r,name:"placeholder"}),defaultValue:Object(v.jsx)(h.a.Control,{type:t.controlType===n.Input?t.type:"text",placeholder:"Default Value",value:t.defaultValue,onChange:r,name:"defaultValue"}),values:Object(v.jsx)(Q,{values:t.values,onChange:function(e){return c(Object(S.a)(Object(S.a)({},t),{},{values:e}))}}),type:Object(v.jsx)(h.a.Select,{onChange:r,value:t.type,name:"type",children:Object.values(a).map((function(e){return Object(v.jsx)("option",{value:e,children:e},"type-".concat(t.id,"-").concat(e))}))}),value:Object(v.jsx)("div",{children:"not implement yet"}),children:Object(v.jsx)(K,{editFormItem:c,formControlItem:t}),columns:Object(v.jsx)(h.a.Select,{size:"sm",onChange:r,value:t.columns,name:"columns",children:[1,2,3,4,6].map((function(e){return Object(v.jsx)("option",{value:e,children:e},"columns-".concat(t.id,"-").concat(e))}))}),bordered:Object(v.jsx)(h.a.Check,{label:"Bordered",defaultChecked:t.bordered,name:"bordered",id:"borderedField-".concat(t.id),onChange:r})}}),[t,r,c]);return Object(v.jsx)(v.Fragment,{children:W[t.controlType].map((function(e){return Object(v.jsxs)(h.a.Group,{className:"mb-2",children:[Object(v.jsx)(h.a.Label,{children:i[e]}),o[e]]},"group-".concat(t.id,"-").concat(e))}))})},Y=function(e){var t=e.formItem,c=e.addFormItem,n=e.deleteFormItem,a=e.editFormItem,r=e.onMove,i=Object(l.useState)(!1),o=Object(d.a)(i,2),s=o[0],j=o[1];return Object(v.jsxs)(I.a.Item,{eventKey:t.id||"",className:"position-relative",onMouseEnter:function(){j(!0)},onMouseLeave:function(){return j(!1)},children:[Object(v.jsx)(U,{show:s,onAdd:function(e){c(e,t.id),j(!1)},onDelete:function(){n((null===t||void 0===t?void 0:t.id)||""),j(!1)},onMove:function(e){r((null===t||void 0===t?void 0:t.id)||"",e),j(!1)}}),Object(v.jsxs)(I.a.Header,{children:[null===t||void 0===t?void 0:t.controlType," : ",null===t||void 0===t?void 0:t.label]}),Object(v.jsx)(I.a.Body,{children:Object(v.jsx)(X,{formControlItem:t,editFormItem:a})})]},t.id)},Z=function(){var e=Object(l.useContext)(u),t=e.schema,c=e.setSchema,n=e.onSave,a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(n){var a=t.findIndex((function(e){return e.id===n}));t.splice(a+1,0,Object(S.a)(Object(S.a)({},B[e]),{},{id:Object(k.a)()})),c(Object(f.a)(t))}else c([].concat(Object(f.a)(t),[Object(S.a)(Object(S.a)({},B[e]),{},{id:Object(k.a)()})]))},r=function(e){return c(t.filter((function(t){return t.id!==e})))},i=function(e){if(e){var n=t.findIndex((function(t){return t.id===e.id}));t[n]=e,c(Object(f.a)(t))}},o=function(e,n){var a=t.findIndex((function(t){return t.id===e})),l=n?a-1:a+1,r=t[l];r&&(t[l]=t[a],t[a]=r,c(Object(f.a)(t)))};return t.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(s.a,{className:"justify-content-between mb-3",children:[Object(v.jsx)(j.a,{xs:4,lg:6,children:Object(v.jsx)("h1",{children:"Edit"})}),Object(v.jsx)(j.a,{xs:4,lg:3,className:"d-flex align-items-center justify-content-end",children:Object(v.jsx)(z,{text:"Download template",children:Object(v.jsx)(x.a,{variant:"outline-info",className:"btn-control",onClick:function(){var e=document.createElement("a"),c=new Blob([JSON.stringify(t)],{type:"text/json"});e.href=URL.createObjectURL(c),e.download="formTemplates.json",document.body.appendChild(e),e.click()},children:Object(v.jsx)(R,{height:"100%"})})})}),Object(v.jsx)(j.a,{xs:4,lg:3,className:"d-flex align-items-center justify-content-end",children:Object(v.jsx)(z,{text:"Save template",children:Object(v.jsx)(x.a,{variant:"outline-info",className:"btn-control",onClick:n,children:Object(v.jsx)(L,{height:"100%"})})})})]}),Object(v.jsx)(I.a,{flush:!1,className:"mb-2",children:t.map((function(e){return Object(v.jsx)(Y,{addFormItem:a,deleteFormItem:r,editFormItem:i,formItem:e,onMove:o},"toolbox-".concat(e.id))}))})]}):Object(v.jsx)(N,{onAdd:a,children:" Add Items "})},$=function(e){var t=e.schema,c=void 0===t?[]:t,n=e.onSave,a=Object(l.useState)(c),r=Object(d.a)(a,2),i=r[0],o=r[1];return Object(v.jsx)(u.Provider,{value:{schema:i,setSchema:o,onSave:function(){return n&&n(i)}},children:Object(v.jsxs)(s.a,{className:"my-5 text-left",children:[Object(v.jsx)(j.a,{md:4,children:Object(v.jsx)(Z,{})}),Object(v.jsx)(j.a,{md:8,children:Object(v.jsx)(b.a,{body:!0,children:Object(v.jsx)(T,{schema:i})})})]})})},_=c(59),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var t=JSON.parse(e);return t}catch(c){console.log("Cannot convert template with error: ",c)}return[]},te=function(){var e=Object(l.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(s.a,{className:"mb-4",children:[Object(v.jsx)(j.a,{md:10,children:Object(v.jsx)("h2",{children:"Form Generator"})}),Object(v.jsx)(j.a,{md:2,children:Object(v.jsx)(x.a,{variant:"outline-success",onClick:function(){var e=document.createElement("input");e.type="file",e.style.display="none",e.onchange=function(t){var c=t.target.files[0];if(c){var a=new FileReader;a.onload=function(t){var c=t.target.result,a=ee(c);(null===a||void 0===a?void 0:a.length)?n(a):alert("Please choose correct template!"),document.body.removeChild(e)},a.readAsText(c)}},document.body.appendChild(e),e.click()},className:"w-100",children:"Upload Template"})}),Object(v.jsxs)(j.a,{md:12,className:"text-center",children:[Object(v.jsx)("hr",{}),Object(v.jsx)("i",{children:" (Download form template from Form Builder and upload to test) "}),Object(v.jsx)("hr",{})]})]}),Object(v.jsx)(T,{schema:c,className:"my-4",onSubmit:function(e){return alert("Thank for your submission! The result is:\n"+e.map((function(e){return e.question+": "+e.answer})).join("\n"))}})]})},ce=function(){var e=Object(l.useState)(!0),t=Object(d.a)(e,2),c=t[0],r=t[1],i=[{controlType:n.Input,defaultValue:"",disabled:!1,label:"Input Field",placeholder:"Placeholder",id:"d9d4e1b9-8760-4aaa-81be-041333cbf0e3"},{controlType:n.Section,children:[{controlType:n.Checkbox,defaultValue:"",disabled:!1,label:"Checkbox Field",placeholder:"",id:"166836d1-14f2-4a9e-99e4-2acb16bc10aa",values:["One","Two","Three"]},{controlType:n.Radio,values:["One","Two","Three"],disabled:!1,label:"Radio Field",id:"38771b38-86b8-474a-8251-b94268df81e6"},{controlType:n.TextArea,value:"",values:[],disabled:!1,label:"Area Field",id:"4e6ad7ab-d286-4504-890f-e4ca56ec6c39",defaultValue:"Hello world!"},{controlType:n.Select,values:["One","Two","Three"],disabled:!1,label:"Select Field",id:"b5027731-e808-47c2-a7d1-871cac6c9fc4"}],label:"Section",bordered:!1,id:"9d13cfe5-e145-4d74-b73f-993004fbc8e4",columns:2},{controlType:n.Section,children:[{controlType:n.Input,defaultValue:"",disabled:!1,label:"Datetime",placeholder:"",id:"e306440b-2864-4561-b514-3b02173b2dbf",type:a.datetime},{controlType:n.Input,defaultValue:"",disabled:!1,label:"Date",placeholder:"",id:"40e9107e-b0ea-4193-aef9-952e9def8f1b",type:a.date},{controlType:n.Input,defaultValue:"",disabled:!1,label:"Time",placeholder:"",id:"fafeb28f-a1f0-4cc7-acdf-a7ad798477af",type:a.time},{controlType:n.Input,defaultValue:"dongntuyen",disabled:!1,label:"Secure",placeholder:"Password",id:"e9befa72-bb25-4920-8f73-1868a9c9752b",type:a.password},{controlType:n.Input,defaultValue:"111",disabled:!0,label:"Number",placeholder:"",id:"baf7756f-a9e2-4fa3-9635-66fae54634cd",type:a.number}],label:"Section with Border",bordered:!0,id:"726b4e49-d176-4297-83ca-0be026a66980"}];return Object(v.jsxs)(_.a,{children:[Object(v.jsx)(s.a,{className:"justify-content-center",children:Object(v.jsx)(j.a,{md:6,children:Object(v.jsx)("h1",{className:"text-center my-3",children:" Demo Form Machine "})})}),Object(v.jsx)(s.a,{className:"justify-content-center",children:Object(v.jsx)(j.a,{md:6,children:Object(v.jsxs)(x.a,{size:"lg",onClick:function(){return r(!c)},className:"w-100 my-3",children:["Show ",c?"Form Generator":"Form Builder"]})})}),c?Object(v.jsx)($,{schema:i,onSave:function(e){alert("Templates was saved! Check console!"),console.log(e)}}):Object(v.jsx)(te,{})]})};c(51);o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(ce,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.301d8a7f.chunk.js.map